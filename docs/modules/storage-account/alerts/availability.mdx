---
title: 'Availability'
description: 'An overview of metric, severity, inputs, outputs and usage.'
icon: 'bell'
---

## 1. Alert
Storage Account requests availability.

- **Metric**: `Availability`
- **Namespace**: `Microsoft.Storage/storageAccounts`
- **Aggregation**: Average
- **Operator**: LessThan
- **Evaluation Frequency**: 1 minute (PT1M)
- **Time Window**: 1 minute (PT1M)
- **Severity**: 1
- **Auto Mitigate**: false

## 2. Usage
```hcl main.tf
module "storage_availability_alert" {
  source = "./modules/storage-account/alerts/Availability"

  resource_group_name = azurerm_resource_group.rg.name
  scopes              = [module.storage_account.storage_account_id]
  # threshold = 100
  description      = "Storage Account availability below 100% over 1 minute"
  enabled          = true
  action_group_ids = []
}
```

## 3. Inputs
| Name | Type | Default | Required | Description |
|------|------|---------|:--------:|-------------|
| `name` | `string` | `null` | no | Name of the metric alert (defaults to `alrt-avail-<resource-name>`). |
| `resource_group_name` | `string` | n/a | yes | Resource group in which to create the alert. |
| `scopes` | `list(string)` | n/a | yes | List of Storage Account resource IDs to monitor. |
| `threshold` | `number` | `100` | no | Availability threshold percentage. Fires when below this value. |
| `description` | `string` | `null` | no | Custom description for the alert. Auto-generated if not provided. |
| `enabled` | `bool` | `true` | no | Whether the alert is enabled. |
| `action_group_ids` | `list(string)` | `[]` | no | Action Group IDs to notify when the alert fires. |

## 4. Outputs
| Name | Description |
|------|-------------|
| `id` | Resource ID of the metric alert. |
| `name` | Name of the metric alert. |


