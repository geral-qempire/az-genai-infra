---
title: 'README'
description: 'Quick overview of module usage, inputs, outputs and requirements.'
icon: 'server'
---

## 1. Module
Create an Azure AI Hub (Azure AI Foundry Hub) with optional managed network, identity, and Private Endpoint.

## 2. Usage
```hcl
module "region_abbreviations" {
  source = "../region-abbreviations"
}

module "ai_hub" {
  source = "../ai-hub"

  environment          = "dev"
  service_prefix       = "acme"
  resource_group_name  = "rg-platform-dev"
  location             = "westeurope"
  region_abbreviations = module.region_abbreviations.regions

  storage_account_id      = azurerm_storage_account.sa.id
  key_vault_id            = azurerm_key_vault.kv.id
  application_insights_id = "" # or azurerm_application_insights.appi.id

  public_network_access = "Disabled" # Enabled | Disabled
  managed_network       = ""          # Disabled | AllowInternetOutbound | AllowOnlyApprovedOutbound

  identity = {
    type = "SystemAssigned"
    # identity_ids = [azurerm_user_assigned_identity.uai.id] # when using UserAssigned
  }

  # Private Endpoint (optional)
  enable_private_endpoint   = true
  dns_resource_group_name   = "rg-network-dev"
  subnet_id                 = "/subscriptions/xxx/resourceGroups/rg-network-dev/providers/Microsoft.Network/virtualNetworks/vnet-dev/subnets/snet-privates"
  private_endpoint_location = "westeurope"

  tags = {
    environment = "dev"
    project     = "acme"
  }
}
```

## 3. Inputs
| Name | Type | Default | Required | Description |
|------|------|---------|:--------:|-------------|
| `environment` | `string` | n/a | yes | Environment project (dev, qua or prd). |
| `service_prefix` | `string` | n/a | yes | Prefix or name of the project. |
| `location` | `string` | n/a | yes | Azure region. |
| `resource_group_name` | `string` | n/a | yes | Resource group in which to create the AI Hub. |
| `region_abbreviations` | `map(string)` | n/a | yes | Map of Azure locations to abbreviations. |
| `storage_account_id` | `string` | n/a | yes | ID of an existing Storage Account. |
| `key_vault_id` | `string` | n/a | yes | ID of an existing Key Vault. |
| `application_insights_id` | `string` | `""` | no | Optional Application Insights resource ID. |
| `friendly_name` | `string` | `""` | no | Optional friendly display name. |
| `public_network_access` | `string` | `"Disabled"` | no | Public network access (Enabled, Disabled). |
| `managed_network` | `string` | `""` | no | Managed network isolation mode (Disabled, AllowInternetOutbound, AllowOnlyApprovedOutbound). |
| `identity` | `object` | `{ type = "SystemAssigned" }` | no | Managed identity configuration. |
| `tags` | `map(string)` | `{}` | no | Optional tags. |
| `enable_private_endpoint` | `bool` | `true` | no | Create a private endpoint to resource. |
| `dns_resource_group_name` | `string` | `""` | no | DNS zone resource group for the private endpoint. |
| `subnet_id` | `string` | `""` | no | Subnet ID for the private endpoint. |
| `private_endpoint_location` | `string` | `""` | no | Location to deploy the Private Endpoint; falls back to module location when empty. |

## 4. Outputs
| Name | Description |
|------|-------------|
| `ai_hub_id` | The ID of the AI Hub resource. |
| `ai_hub_name` | The Name of the AI Hub resource. |
| `private_endpoint_id` | The ID of the Private Endpoint if created, otherwise `null`. |
| `managed_identity_principal_id` | Principal ID of the system-assigned managed identity. |

## 5. Requirements
- Terraform `>= 1.12.1, < 2.0.0`
- AzureRM provider `~> 4.38`


